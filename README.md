# Дипломный проект профессии «Тестировщик»
Дипломный проект представляет собой автоматизацию тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка.

## Запуск приложения

Перед запуском необходимо выполнить следующие действия. Если  есть необходимое ПО, то понадобится только п.1 и запуск Docker.

Предусловия:

1. Необходимо склонировать репозиторий или скачать по [ссылке](https://github.com/SerDobr/DiplomaQA). Или воспользоваться VCS Git, встроенной в IntelliJ IDEA.
2. Установить и запустить Docker Desktop. 
3. Открыть проект в IntelliJ IDEA

### Запуск тестов и отчетов в "MySQL"  
1. В терминале вводим **docker-compose up**
2. Можно проверить что контенеры запустились командой **docker ps** в Терминале.
3. Открываем второй окно терминала, там вводим **java -jar .\artifacts\aqa-shop.jar --spring.datasource.url=jdbc:mysql://localhost:3306/app**.
4. Приложение должно запуститься по адресу - http://localhost:8080/
5. Для запуска всех тестов в третем терминале вводим **.\gradlew clean test -DdbUrl=jdbc:mysql://localhost:3306/app** 
6. Для запуска и просмотра отчета по результатам тестирования, с помощью "Allure", необходимо выполнить по очереди команды полного отчета:
- gradlew allureReport
- gradlew allureServe
7. Для завершения работы SUT, необходимо в терминале, где был запущен SUT, ввести команду:
- Ctrl+C
8. Для остановки работы контейнеров "Docker-Compose", необходимо ввести в терминал следующую команду:
- docker-compose down

### Запуск тестов и отчетов в "PostgreSQL"  
1. В терминале вводим **docker-compose up**
2. Можно проверить что контенеры запустились командой **docker ps** в Терминале.
3. Открываем второй окно терминала, там вводим **java -jar .\artifacts\aqa-shop.jar --spring.datasource.url=jdbc:postgresql://localhost:5432/app**.
4. Приложение должно запуститься по адресу - http://localhost:8080/
5. Для запуска всех тестов в третем терминале вводим **.\gradlew clean test -DdbUrl=jdbc:postgresql://localhost:5432/app**  
6. Для запуска и просмотра отчета по результатам тестирования, с помощью "Allure", необходимо выполнить по очереди команды полного отчета:
- gradlew allureReport
- gradlew allureServe
7. Для завершения работы SUT, необходимо в терминале, где был запущен SUT, ввести команду:
- Ctrl+C
8. Для остановки работы контейнеров "Docker-Compose", необходимо ввести в терминал следующую команду:
- docker-compose down
